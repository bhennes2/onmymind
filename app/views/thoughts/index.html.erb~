<h1><%= @title %></h1>
<p><strong>Filter by: </strong><a class="completion">All</a> (<%= Thought.all.count %>) | <a class="completion">Completed</a> (<%= Thought.all.count-Thought.where(:complete => [nil, false]).count%>) | <a class="completion">Incomplete</a>  (<%= Thought.where(:complete => [nil, false]).count %>)</p>

<div id="results">

	<%= render :partial => 'results' %>
</div>

<p> View by:

<a style="color: blue; text-decoration: underline;" id="timeframe" onclick="$('#results').load('<%= root_url %>thoughts-filter/?type='+$(this).attr('id'))">Timeframe</a> |
<a style="color: blue; text-decoration: underline;" id="tag" onclick="$('#results').load('<%= root_url %>thoughts-filter/?type='+$(this).attr('id'))">Tag</a> |
<a style="color: blue; text-decoration: underline;" id="location" onclick="$('#results').load('<%= root_url %>thoughts-filter/?type='+$(this).attr('id'))">Location</a>

</p>

<script>
	$('.checkbox').change(function(){
		alert("Mark this complete?");
		$.post("/completed", { id: $(this).attr('id'), value: true }, alert("Completed!"), 'script');
		return false;
	});
	$('a.completion').click(function(){
		$.get('<%= escape_javascript(render :partial => "results") %>', { type: $(this).text() }, null, 'script');
		return false;
	});
</script>
